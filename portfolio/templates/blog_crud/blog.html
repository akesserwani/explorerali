{% extends 'base.html' %}

{% block content %}

{% load static %} 


{% load widget_tweaks %}

<!--Include Navbar-->
{% include 'shared/blog_nav.html' %}

<!--Top Page Container for landing page-->
<div class = "flex flex-col gap-6 justify-center items-center bg-slate-200 w-full h-[25vh] p-6">
    <h1 class = "text-5xl text-sky-950 font-extrabold">From The Blog</h1>
    <p class = "text-xl text-sky-950 text-center break-words">Your weekly dose of technology, archaeology, history, and linguistics</p>
</div>

<!--Container with the blog posts and tags-->
<!--Top Page Container for landing page-->
<div class = "flex flex-col gap-6 bg-slate-200 w-full p-16">

    <!--Filter tab buttons-->
    <div class="flex flex-row flex-wrap gap-4"
        x-data="{ tabs: [
            { id: 1, text: 'Featured' },
            { id: 2, text: 'Newest' },
            { id: 3, text: 'Tech' },
            { id: 4, text: 'Linguistics' },
            { id: 5, text: 'Anthropology' },
        ]}">
        <template x-for="tab in tabs" :key="tab.id">
            <button class="px-4 py-1 rounded-2xl bg-blue-500 hover:bg-blue-600 border border-blue-400 active:scale-95 text-white text-sm"
                x-text="tab.text">
            </button>
        </template>
    </div>

    <div class = "flex flex-row flex-wrap gap-4">

        <!--Implement logic here to loop through blog posts and insert the data-->
        {% for blog in blog_stories.all %}
            <!--Individual Blog Post-->
            <div class = "flex flex-col w-full md:w-2/5 h-[35rem] bg-white border border-gray-300 rounded-xl shadow-md">
                <!--Blog Post Image-->
                <div class="w-full h-1/2 border rounded-t-xl overflow-hidden">
                    <img src="{% static 'blog_covers/' %}{{ blog.imageUrl }}" class="w-full h-full object-cover">
                </div>
            
                <!--Top row box with tags, date, and time to read-->
                <div class = "flex flex-row justify-between p-8 flex-wrap gap-4">
                    <!--Tag-->
                    <!-- <div class="px-4 rounded-xl bg-blue-200 border border-blue-400 text-blue-500 text-xs md:text-sm">Archaeology</div> -->

                    <!--Date, time to read-->
                    <div class = "flex flex-row gap-1 md:gap-2 text-gray-400 text-xs md:text-sm">
                        <p>{{ blog.created_date|date:"F j, o" }}</p>
                        <p>â€¢</p>
                        <p>5 min read</p>
                    </div>
                </div>

                <!--Box with text for title and description-->
                <div class = "pl-8 h-1/2">
                    <!--Title Text-->
                    <h1 class = "text-3xl font-bold text-black">{{ blog.title }}</h1>
                    <!--Description text-->
                    <p class = "text-lg mt-4">{{ blog.caption }}</p>
                </div>
                <!--Bottom Box row with click button and likes-->
                <div class = "flex flex-row justify-between p-8">
                    <!--Read Story Button-->
                    <a href = "{% url 'blog_story' story_name=blog.title %}" class="p-2 w-1/2 md:w-1/3 rounded-lg bg-blue-500 hover:bg-blue-600 active:scale-95 text-white text-base text-center">
                        Read Story
                    </a>

                    <!--Number of likes-->
                    <div class = "flex flex-row gap-2 text-gray-400 text-xl mt-2 mr-6">
                        <i class="bi bi-heart-fill"></i>
                        <p>{{blog.likes}}</p>
                    </div>
                </div>
            </div>
        {% endfor %}

    </div>
    

</div>


{% include 'shared/footer.html' %}


{% endblock content %}