{% extends 'base.html' %}

{% block content %}

{% load widget_tweaks %}

<!--Include Navbar-->
{% include 'shared/blog_nav.html' %}


<div class="w-full min-h-screen flex flex-col justify-between items-center bg-slate-200 p-12">
    <!--Div with back arrow on left-->
    <div class = "flex flex-row w-full h-16 ">
        <a href = "{% url 'blog_story' story_name=current_story %}" class = "cursor-pointer text-lg m-4 active:scale-95 text-blue-950 hover:text-gray-500">
            <i class = "bi bi-arrow-left"></i>
            Back to Story
        </a>
    </div>
    
    <!--Main container-->
    <div class = "w-full bg-white rounded-xl border border-gray-300">
        <form method = "POST" class = "flex flex-col gap-8 p-16">
            {% csrf_token %}
            <!--Enter Title-->
            {% render_field form.title class="border-gray-300 border-2 rounded-lg w-full py-4 bg-white text-gray-600 focus:outline-none focus:shadow-outline" %}
            
            <!--Enter Caption-->
            {% render_field form.caption class="h-24 border-gray-300 border-2 rounded-lg w-full py-4 bg-white text-gray-600 focus:outline-none focus:shadow-outline" %}
            
            {{ form.media }} 
            <!--Enter Story-->
            {% render_field form.story class="border-gray-300 border-2 rounded-lg w-full py-4 bg-white text-gray-600 focus:outline-none focus:shadow-outline" %}
           
            <!--Enter image url-->
            {% render_field form.imageUrl class="border-gray-300 border-2 rounded-lg w-full py-4 bg-white text-gray-600 focus:outline-none focus:shadow-outline" %}
            
            <!--Enter Tags-->
            <div class = "flex flex-col gap-4">
                <h1 class = "text-lg text-blue-950 font-bold">Tags (seperate by comma):</h1>
                {% render_field form.tags class="border-gray-300 border-2 rounded-lg w-full py-4 bg-white text-gray-600 focus:outline-none focus:shadow-outline" %}
            </div>

    
            <!--Bottom Buttons-->
            <div class = "flex flex-row justify-between w-full h-12">
                <!--Submit Button-->
                <button type="submit" name = "update_story" class="active:scale-95 w-1/3 h-12 rounded-lg border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm md:text-lg">
                    Update Story
                </button>

                <button type="submit" name = "delete_story" class="active:scale-95 w-1/3 h-12 rounded-lg border border-transparent font-semibold bg-red-500 text-white hover:bg-red-600 transition-all text-sm md:text-lg"
                onclick="return confirm('Are you sure you want to delete this blog?');">
                    Delete Story
                </button>

            </div>
        </form>
    </div>    
</div>


{% endblock content %}